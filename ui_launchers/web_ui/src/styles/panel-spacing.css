/**
 * Panel Spacing and Alignment Fixes
 * 
 * CSS utilities for consistent panel spacing, alignment, and overflow handling
 * using design tokens and modern CSS techniques.
 * 
 * Based on requirements: 2.1, 2.3
 */

/* ============================================================================
   PANEL SPACING UTILITIES
   ============================================================================ */

/* Consistent panel spacing using design tokens */
.panel-spacing-xs {
  padding: var(--space-xs);
}

.panel-spacing-sm {
  padding: var(--space-sm);
}

.panel-spacing-md {
  padding: var(--space-md);
}

.panel-spacing-lg {
  padding: var(--space-lg);
}

.panel-spacing-xl {
  padding: var(--space-xl);
}

/* Directional spacing utilities */
.panel-spacing-x-md {
  padding-left: var(--space-md);
  padding-right: var(--space-md);
}

.panel-spacing-y-md {
  padding-top: var(--space-md);
  padding-bottom: var(--space-md);
}

.panel-spacing-x-lg {
  padding-left: var(--space-lg);
  padding-right: var(--space-lg);
}

.panel-spacing-y-lg {
  padding-top: var(--space-lg);
  padding-bottom: var(--space-lg);
}

/* ============================================================================
   PANEL ALIGNMENT UTILITIES
   ============================================================================ */

/* Vertical alignment utilities */
.panel-align-top {
  align-items: flex-start;
}

.panel-align-center {
  align-items: center;
}

.panel-align-bottom {
  align-items: flex-end;
}

.panel-align-stretch {
  align-items: stretch;
}

/* Horizontal alignment utilities */
.panel-justify-start {
  justify-content: flex-start;
}

.panel-justify-center {
  justify-content: center;
}

.panel-justify-end {
  justify-content: flex-end;
}

.panel-justify-between {
  justify-content: space-between;
}

.panel-justify-around {
  justify-content: space-around;
}

.panel-justify-evenly {
  justify-content: space-evenly;
}

/* ============================================================================
   PANEL OVERFLOW HANDLING
   ============================================================================ */

/* Proper overflow handling for panel content */
.panel-overflow-hidden {
  overflow: hidden;
}

.panel-overflow-auto {
  overflow: auto;
}

.panel-overflow-scroll {
  overflow: scroll;
}

.panel-overflow-x-hidden {
  overflow-x: hidden;
}

.panel-overflow-y-auto {
  overflow-y: auto;
  overflow-x: hidden;
}

.panel-overflow-y-scroll {
  overflow-y: scroll;
  overflow-x: hidden;
}

/* Smooth scrolling with performance optimization */
.panel-scroll-smooth {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch; /* iOS momentum scrolling */
}

/* Custom scrollbar styling */
.panel-scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: var(--color-neutral-300) transparent;
}

.panel-scrollbar-thin::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.panel-scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.panel-scrollbar-thin::-webkit-scrollbar-thumb {
  background-color: var(--color-neutral-300);
  border-radius: var(--radius-full);
  border: 1px solid transparent;
}

.panel-scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-neutral-400);
}

/* Hide scrollbar completely */
.panel-scrollbar-hide {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.panel-scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ============================================================================
   PANEL GRID SYSTEM FIXES
   ============================================================================ */

/* Consistent 12-column grid with proper gaps */
.panel-grid-12 {
  display: grid;
  grid-template-columns: repeat(12, minmax(0, 1fr));
  gap: var(--space-md);
}

.panel-grid-gap-sm {
  gap: var(--space-sm);
}

.panel-grid-gap-md {
  gap: var(--space-md);
}

.panel-grid-gap-lg {
  gap: var(--space-lg);
}

/* Grid column utilities with proper alignment */
.panel-col-span-1 { grid-column: span 1 / span 1; }
.panel-col-span-2 { grid-column: span 2 / span 2; }
.panel-col-span-3 { grid-column: span 3 / span 3; }
.panel-col-span-4 { grid-column: span 4 / span 4; }
.panel-col-span-5 { grid-column: span 5 / span 5; }
.panel-col-span-6 { grid-column: span 6 / span 6; }
.panel-col-span-7 { grid-column: span 7 / span 7; }
.panel-col-span-8 { grid-column: span 8 / span 8; }
.panel-col-span-9 { grid-column: span 9 / span 9; }
.panel-col-span-10 { grid-column: span 10 / span 10; }
.panel-col-span-11 { grid-column: span 11 / span 11; }
.panel-col-span-12 { grid-column: span 12 / span 12; }

/* Grid column start utilities */
.panel-col-start-1 { grid-column-start: 1; }
.panel-col-start-2 { grid-column-start: 2; }
.panel-col-start-3 { grid-column-start: 3; }
.panel-col-start-4 { grid-column-start: 4; }
.panel-col-start-5 { grid-column-start: 5; }
.panel-col-start-6 { grid-column-start: 6; }
.panel-col-start-7 { grid-column-start: 7; }
.panel-col-start-8 { grid-column-start: 8; }
.panel-col-start-9 { grid-column-start: 9; }
.panel-col-start-10 { grid-column-start: 10; }
.panel-col-start-11 { grid-column-start: 11; }
.panel-col-start-12 { grid-column-start: 12; }

/* ============================================================================
   PANEL CONTENT ALIGNMENT FIXES
   ============================================================================ */

/* Proper content hierarchy with consistent spacing */
.panel-content-hierarchy > * + * {
  margin-top: var(--space-md);
}

.panel-content-hierarchy-sm > * + * {
  margin-top: var(--space-sm);
}

.panel-content-hierarchy-lg > * + * {
  margin-top: var(--space-lg);
}

/* Text alignment utilities */
.panel-text-left {
  text-align: left;
}

.panel-text-center {
  text-align: center;
}

.panel-text-right {
  text-align: right;
}

.panel-text-justify {
  text-align: justify;
}

/* ============================================================================
   PANEL RESPONSIVE BEHAVIOR
   ============================================================================ */

/* Responsive panel spacing */
@media (max-width: 640px) {
  .panel-spacing-responsive {
    padding: var(--space-sm);
  }
  
  .panel-grid-12 {
    gap: var(--space-sm);
  }
}

@media (min-width: 641px) and (max-width: 768px) {
  .panel-spacing-responsive {
    padding: var(--space-md);
  }
}

@media (min-width: 769px) {
  .panel-spacing-responsive {
    padding: var(--space-lg);
  }
}

/* Responsive grid columns */
@media (max-width: 640px) {
  .panel-col-responsive-full {
    grid-column: span 12 / span 12;
  }
}

@media (min-width: 641px) and (max-width: 768px) {
  .panel-col-responsive-half {
    grid-column: span 6 / span 6;
  }
}

@media (min-width: 769px) {
  .panel-col-responsive-third {
    grid-column: span 4 / span 4;
  }
  
  .panel-col-responsive-quarter {
    grid-column: span 3 / span 3;
  }
}

/* ============================================================================
   PANEL PERFORMANCE OPTIMIZATIONS
   ============================================================================ */

/* GPU acceleration for smooth scrolling */
.panel-gpu-accelerated {
  transform: translateZ(0);
  will-change: scroll-position;
}

/* Content containment for better performance */
.panel-contain-layout {
  contain: layout;
}

.panel-contain-style {
  contain: style;
}

.panel-contain-paint {
  contain: paint;
}

.panel-contain-all {
  contain: layout style paint;
}

/* ============================================================================
   PANEL ACCESSIBILITY IMPROVEMENTS
   ============================================================================ */

/* Focus visible improvements */
.panel-focus-visible:focus-visible {
  outline: 2px solid var(--color-primary-500);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .panel-scroll-smooth {
    scroll-behavior: auto;
  }
  
  .panel-gpu-accelerated {
    will-change: auto;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .panel-scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--color-neutral-600);
    border: 2px solid var(--color-neutral-200);
  }
}

/* ============================================================================
   PANEL LAYOUT FIXES
   ============================================================================ */

/* Fix for flex items not shrinking properly */
.panel-flex-shrink {
  flex-shrink: 1;
  min-width: 0;
  min-height: 0;
}

/* Fix for content not taking full height */
.panel-full-height {
  height: 100%;
  min-height: 100%;
}

/* Fix for content overflowing container */
.panel-content-fit {
  max-width: 100%;
  max-height: 100%;
  overflow: hidden;
}

/* Fix for improper text wrapping */
.panel-text-wrap {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Fix for images overflowing */
.panel-image-fit {
  max-width: 100%;
  height: auto;
  object-fit: contain;
}

/* ============================================================================
   PANEL ANIMATION SUPPORT
   ============================================================================ */

/* Smooth transitions for panel state changes */
.panel-transition-all {
  transition: all var(--duration-normal) var(--ease-out);
}

.panel-transition-transform {
  transition: transform var(--duration-normal) var(--ease-out);
}

.panel-transition-opacity {
  transition: opacity var(--duration-normal) var(--ease-out);
}

/* Animation performance optimization */
.panel-animate-gpu {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}