nohup: ignoring input
[2025-08-08T00:54:59.111972] [WARNING] [ai_karen_engine.config.model_registry] [llama-cpp] Failed to list models: [Errno 2] No such file or directory: '/models'
[2025-08-08T00:54:59.132264] [WARNING] [ai_karen_engine.integrations.providers.copilotkit_provider] CopilotKit not available, using fallback mode
[2025-08-08T00:54:59.504958] [INFO] [ai_karen_engine.database.client] Database engine initialized successfully
[2025-08-08T00:54:59.676357] [INFO] [ai_karen_engine.core.config_manager] Loaded configuration from config.json
[2025-08-08T00:54:59.676501] [INFO] [ai_karen_engine.core.config_manager] Configuration validation passed
[2025-08-08T00:54:59.676563] [INFO] [ai_karen_engine.core.config_manager] Configuration loaded for environment: Environment.DEVELOPMENT
[2025-08-08T00:54:59.676639] [INFO] [ai_karen_engine.services.nlp_service_manager] NLP configuration loaded successfully
[2025-08-08T00:55:00.046448] [INFO] [ai_karen_engine.services.spacy_service] spaCy service initialized with model: en_core_web_sm
[2025-08-08T00:55:00.053529] [INFO] [ai_karen_engine.services.distilbert_service] Using GPU: NVIDIA GeForce RTX 2080 SUPER
[2025-08-08T00:55:01.816962] [INFO] [ai_karen_engine.services.distilbert_service] DistilBERT service initialized with model: distilbert-base-uncased
[2025-08-08T00:55:01.817142] [INFO] [ai_karen_engine.services.distilbert_service] Using device: cuda
[2025-08-08T00:55:01.817222] [INFO] [ai_karen_engine.services.nlp_service_manager] NLP Service Manager initialized
[2025-08-08T00:55:01.885533] [INFO] [ai_karen_engine.chat.file_attachment_service] FileAttachmentService initialized with storage: data/attachments
[2025-08-08T00:55:01.885702] [INFO] [ai_karen_engine.chat.multimedia_service] Image processing capabilities enabled
[2025-08-08T00:55:01.885770] [INFO] [ai_karen_engine.chat.multimedia_service] Audio processing capabilities enabled
[2025-08-08T00:55:01.885810] [INFO] [ai_karen_engine.chat.multimedia_service] Video processing capabilities enabled
[2025-08-08T00:55:01.885847] [INFO] [ai_karen_engine.chat.multimedia_service] Content moderation enabled
[2025-08-08T00:55:01.885880] [INFO] [ai_karen_engine.chat.multimedia_service] MultimediaService initialized
[2025-08-08T00:55:09.852815] [WARNING] [ai_karen_engine.config.model_registry] [llama-cpp] Failed to list models: [Errno 2] No such file or directory: '/models'
[2025-08-08T00:55:09.880036] [WARNING] [ai_karen_engine.integrations.providers.copilotkit_provider] CopilotKit not available, using fallback mode
[2025-08-08T00:55:10.250777] [INFO] [ai_karen_engine.database.client] Database engine initialized successfully
[2025-08-08T00:55:10.438643] [INFO] [ai_karen_engine.core.config_manager] Loaded configuration from config.json
[2025-08-08T00:55:10.438848] [INFO] [ai_karen_engine.core.config_manager] Configuration validation passed
[2025-08-08T00:55:10.438902] [INFO] [ai_karen_engine.core.config_manager] Configuration loaded for environment: Environment.DEVELOPMENT
[2025-08-08T00:55:10.439009] [INFO] [ai_karen_engine.services.nlp_service_manager] NLP configuration loaded successfully
[2025-08-08T00:55:10.805535] [INFO] [ai_karen_engine.services.spacy_service] spaCy service initialized with model: en_core_web_sm
[2025-08-08T00:55:10.807292] [INFO] [ai_karen_engine.services.distilbert_service] Using GPU: NVIDIA GeForce RTX 2080 SUPER
[2025-08-08T00:55:12.542895] [INFO] [ai_karen_engine.services.distilbert_service] DistilBERT service initialized with model: distilbert-base-uncased
[2025-08-08T00:55:12.543005] [INFO] [ai_karen_engine.services.distilbert_service] Using device: cuda
[2025-08-08T00:55:12.543082] [INFO] [ai_karen_engine.services.nlp_service_manager] NLP Service Manager initialized
[2025-08-08T00:55:12.614765] [INFO] [ai_karen_engine.chat.file_attachment_service] FileAttachmentService initialized with storage: data/attachments
[2025-08-08T00:55:12.614947] [INFO] [ai_karen_engine.chat.multimedia_service] Image processing capabilities enabled
[2025-08-08T00:55:12.615002] [INFO] [ai_karen_engine.chat.multimedia_service] Audio processing capabilities enabled
[2025-08-08T00:55:12.615075] [INFO] [ai_karen_engine.chat.multimedia_service] Video processing capabilities enabled
[2025-08-08T00:55:12.615133] [INFO] [ai_karen_engine.chat.multimedia_service] Content moderation enabled
[2025-08-08T00:55:12.615160] [INFO] [ai_karen_engine.chat.multimedia_service] MultimediaService initialized
{"asctime": "2025-08-08 00:55:12,688", "levelname": "DEBUG", "name": "asyncio", "message": "Using selector: EpollSelector", "lineno": 54, "pathname": "/usr/lib/python3.11/asyncio/selector_events.py"}
{"asctime": "2025-08-08 00:55:12,849", "levelname": "WARNING", "name": "kari", "message": "Metrics already registered, using dummy metrics", "lineno": 227, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/main.py"}
{"asctime": "2025-08-08 00:55:12,888", "levelname": "INFO", "name": "uvicorn.error", "message": "Started server process [3986126]", "lineno": 84, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/server.py", "color_message": "Started server process [\u001b[36m%d\u001b[0m]"}
{"asctime": "2025-08-08 00:55:12,889", "levelname": "INFO", "name": "uvicorn.error", "message": "Waiting for application startup.", "lineno": 48, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/lifespan/on.py"}
{"asctime": "2025-08-08 00:55:12,889", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Starting Kari AI Server in development mode", "lineno": 101, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:55:12,889", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Database initialized", "lineno": 19, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:55:12,972", "levelname": "WARNING", "name": "ai_karen_engine.server.plugin_loader", "message": "Plugin directory not found: /app/plugins", "lineno": 29, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/plugin_loader.py"}
{"asctime": "2025-08-08 00:55:13,047", "levelname": "DEBUG", "name": "httpcore.connection", "message": "connect_tcp.started host='127.0.0.1' port=11434 local_address=None timeout=None socket_options=None", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:55:13,048", "levelname": "DEBUG", "name": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4dc1fdcb10>", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:55:13,048", "levelname": "DEBUG", "name": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:55:13,049", "levelname": "DEBUG", "name": "httpcore.http11", "message": "send_request_headers.complete", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:55:13,049", "levelname": "DEBUG", "name": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:55:13,049", "levelname": "DEBUG", "name": "httpcore.http11", "message": "send_request_body.complete", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:55:13,049", "levelname": "DEBUG", "name": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:55:13,050", "levelname": "DEBUG", "name": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Fri, 08 Aug 2025 04:55:13 GMT'), (b'Content-Length', b'334')])", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:55:13,050", "levelname": "INFO", "name": "httpx", "message": "HTTP Request: GET http://127.0.0.1:11434/api/tags \"HTTP/1.1 200 OK\"", "lineno": 1025, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpx/_client.py"}
{"asctime": "2025-08-08 00:55:13,050", "levelname": "DEBUG", "name": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:55:13,051", "levelname": "DEBUG", "name": "httpcore.http11", "message": "receive_response_body.complete", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:55:13,051", "levelname": "DEBUG", "name": "httpcore.http11", "message": "response_closed.started", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:55:13,051", "levelname": "DEBUG", "name": "httpcore.http11", "message": "response_closed.complete", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
Unexpected model entry: model='llama3.2:1b' modified_at=datetime.datetime(2025, 7, 26, 2, 50, 9, 287211, tzinfo=TzInfo(UTC)) digest='baf6a787fdffd633537aa2eb51cfd54cb93ff08e28040095462bb63daf552878' size=1321098329 details=ModelDetails(parent_model='', format='gguf', family='llama', families=['llama'], parameter_size='1.2B', quantization_level='Q8_0')
{"asctime": "2025-08-08 00:55:13,053", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Registered service: ai_orchestrator", "lineno": 89, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:13,053", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Registered service: memory_service", "lineno": 89, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:13,053", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Registered service: conversation_service", "lineno": 89, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:13,053", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Registered service: plugin_service", "lineno": 89, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:13,053", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Registered service: tool_service", "lineno": 89, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:13,054", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Initializing all services...", "lineno": 225, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:13,054", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Initializing service: ai_orchestrator", "lineno": 116, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:13,054", "levelname": "INFO", "name": "ai_orchestrator.prompt_manager", "message": "Registered prompt template: conversation_processing", "lineno": 14, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/prompt_manager.py"}
{"asctime": "2025-08-08 00:55:13,054", "levelname": "INFO", "name": "ai_orchestrator.prompt_manager", "message": "Registered prompt template: decision_making", "lineno": 14, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/prompt_manager.py"}
{"asctime": "2025-08-08 00:55:13,055", "levelname": "INFO", "name": "kari.llm_registry", "message": "Loaded registry from models/llm_registry.json", "lineno": 149, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/integrations/llm_registry.py"}
{"asctime": "2025-08-08 00:55:13,056", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "Initializing AI Orchestrator Service", "lineno": 42, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/ai_orchestrator.py"}
{"asctime": "2025-08-08 00:55:13,057", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "Memory service integration deferred until first use", "lineno": 59, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/ai_orchestrator.py"}
{"asctime": "2025-08-08 00:55:13,057", "levelname": "INFO", "name": "ai_orchestrator.flow_manager", "message": "Registered flow handler for FlowType.DECIDE_ACTION", "lineno": 54, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/flow_manager.py"}
{"asctime": "2025-08-08 00:55:13,057", "levelname": "INFO", "name": "ai_orchestrator.flow_manager", "message": "Registered flow handler for FlowType.CONVERSATION_PROCESSING", "lineno": 54, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/flow_manager.py"}
{"asctime": "2025-08-08 00:55:13,057", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "Default flows registered", "lineno": 92, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/ai_orchestrator.py"}
{"asctime": "2025-08-08 00:55:13,057", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "AI Orchestrator Service initialized successfully", "lineno": 49, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/ai_orchestrator.py"}
{"asctime": "2025-08-08 00:55:13,057", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service ai_orchestrator initialized successfully in 0.00s", "lineno": 214, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:13,057", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Initializing service: memory_service", "lineno": 116, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:13,058", "levelname": "INFO", "name": "ai_karen_engine.database.client", "message": "Database engine initialized successfully", "lineno": 85, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/logging/logger.py", "context": {}, "timestamp": "2025-08-08T00:55:13.058517", "logger_name": "ai_karen_engine.database.client"}
{"asctime": "2025-08-08 00:55:13,058", "levelname": "INFO", "name": "ai_karen_engine.core.embedding_manager", "message": "[EmbeddingManager] Loading DistilBERT model: sentence-transformers/distilbert-base-nli-stsb-mean-tokens", "lineno": 65, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/embedding_manager.py"}
{"asctime": "2025-08-08 00:55:13,059", "levelname": "INFO", "name": "sentence_transformers.SentenceTransformer", "message": "Use pytorch device_name: cuda:0", "lineno": 219, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py"}
{"asctime": "2025-08-08 00:55:13,060", "levelname": "INFO", "name": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: sentence-transformers/distilbert-base-nli-stsb-mean-tokens", "lineno": 227, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py"}
{"asctime": "2025-08-08 00:55:13,154", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/modules.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:13,234", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/modules.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:13,300", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/config_sentence_transformers.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:13,345", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/config_sentence_transformers.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:13,433", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/config_sentence_transformers.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:13,482", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/config_sentence_transformers.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:13,560", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/README.md HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:13,607", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/README.md HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:13,676", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/modules.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:13,742", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/modules.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:13,834", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/sentence_bert_config.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:13,886", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/sentence_bert_config.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:14,011", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/adapter_config.json HTTP/1.1\" 404 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:14,103", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/config.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:14,195", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/config.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:14,302", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/tokenizer_config.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:14,370", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/tokenizer_config.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:14,460", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"GET /api/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1\" 404 64", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:14,553", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/1_Pooling/config.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:14,594", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/1_Pooling%2Fconfig.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:55:14,687", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"GET /api/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens HTTP/1.1\" 200 5116", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 10.81it/s]
{"asctime": "2025-08-08 00:55:14,831", "levelname": "INFO", "name": "ai_karen_engine.core.embedding_manager", "message": "[EmbeddingManager] Successfully loaded sentence-transformers/distilbert-base-nli-stsb-mean-tokens in 1.77s (dim=768)", "lineno": 76, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/embedding_manager.py"}
{"asctime": "2025-08-08 00:55:14,832", "levelname": "INFO", "name": "ai_karen_engine.core.default_models", "message": "Default embedding model loaded: True", "lineno": 25, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/default_models.py"}
{"asctime": "2025-08-08 00:55:16,248", "levelname": "ERROR", "name": "ai_karen_engine.core.default_models", "message": "Failed to load spaCy model: type object 'SpaCyClient' has no attribute 'DEFAULT_MODEL'", "lineno": 38, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/default_models.py"}
{"asctime": "2025-08-08 00:55:16,250", "levelname": "INFO", "name": "ai_karen_engine.core.default_models", "message": "Basic classifier ready", "lineno": 44, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/default_models.py"}
{"asctime": "2025-08-08 00:55:16,251", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service memory_service initialized successfully in 3.19s", "lineno": 214, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:16,251", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Initializing service: conversation_service", "lineno": 116, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:16,251", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service conversation_service initialized successfully in 0.00s", "lineno": 214, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:16,251", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Initializing service: plugin_service", "lineno": 116, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:16,251", "levelname": "INFO", "name": "ai_karen_engine.services.plugin_service", "message": "Initializing plugin service...", "lineno": 63, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_service.py"}
{"asctime": "2025-08-08 00:55:16,252", "levelname": "INFO", "name": "ai_karen_engine.services.plugin_registry", "message": "Starting plugin discovery...", "lineno": 166, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_registry.py"}
{"asctime": "2025-08-08 00:55:16,252", "levelname": "ERROR", "name": "ai_karen_engine.services.plugin_registry", "message": "Failed to load plugin metadata from plugin_marketplace/ai/copilotkit-code-reviewer/plugin_manifest.json: 2 validation errors for PluginManifest\nplugin_type\n  Input should be 'core', 'automation', 'ai', 'integration', 'example' or 'custom' [type=enum, input_value='code_analysis', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/enum\ndependencies\n  Input should be a valid list [type=list_type, input_value={'copilotkit': '>=1.0.0',...aren_engine': '>=1.0.0'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/list_type", "lineno": 262, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_registry.py"}
{"asctime": "2025-08-08 00:55:16,253", "levelname": "ERROR", "name": "ai_karen_engine.services.plugin_registry", "message": "Failed to load plugin metadata from plugin_marketplace/ai/copilotkit-debug-assistant/plugin_manifest.json: 2 validation errors for PluginManifest\nplugin_type\n  Input should be 'core', 'automation', 'ai', 'integration', 'example' or 'custom' [type=enum, input_value='ai_assistance', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/enum\ndependencies\n  Input should be a valid list [type=list_type, input_value={'copilotkit': '>=1.0.0',...aren_engine': '>=1.0.0'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/list_type", "lineno": 262, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_registry.py"}
{"asctime": "2025-08-08 00:55:16,263", "levelname": "ERROR", "name": "ai_karen_engine.services.plugin_registry", "message": "Failed to load plugin metadata from plugin_marketplace/examples/hook-workflow-demo/plugin_manifest.json: 3 validation errors for PluginManifest\nname\n  Field required [type=missing, input_value={'plugin_api_version': '1...andle_workflow_error']}}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nmodule\n  Field required [type=missing, input_value={'plugin_api_version': '1...andle_workflow_error']}}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ndependencies\n  Input should be a valid list [type=list_type, input_value={'system_services': [], '..., 'python_packages': []}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/list_type", "lineno": 262, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_registry.py"}
{"asctime": "2025-08-08 00:55:16,280", "levelname": "INFO", "name": "ai_karen_engine.services.plugin_registry", "message": "Discovered 18 plugins", "lineno": 199, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_registry.py"}
{"asctime": "2025-08-08 00:55:16,281", "levelname": "INFO", "name": "ai_karen_engine.services.plugin_service", "message": "Plugin service initialized successfully", "lineno": 78, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_service.py"}
{"asctime": "2025-08-08 00:55:16,281", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service plugin_service initialized successfully in 0.03s", "lineno": 214, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:16,281", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Initializing service: tool_service", "lineno": 116, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:16,281", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service tool_service initialized successfully in 0.00s", "lineno": 214, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:16,281", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service initialization complete: 5/5 services ready", "lineno": 237, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:16,282", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Started health monitoring", "lineno": 286, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:16,282", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "AI Karen engine integration services initialized successfully", "lineno": 400, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:55:16,282", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "AI services initialized", "lineno": 41, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:55:16,282", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Security components initialized", "lineno": 67, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:55:16,282", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Started model registry refresh task", "lineno": 83, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:55:16,282", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Server startup completed", "lineno": 106, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:55:16,283", "levelname": "INFO", "name": "uvicorn.error", "message": "Application startup complete.", "lineno": 62, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/lifespan/on.py"}
{"asctime": "2025-08-08 00:55:27,512", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "18d7b5f3-e7cb-4181-850d-5f91420e651a", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:55:27,513", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "754ace42-63a8-4508-8f1d-536fca9a75f7", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:55:27,514", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "18d7b5f3-e7cb-4181-850d-5f91420e651a", "duration": 0.001339, "status": 200}
{"asctime": "2025-08-08 00:55:27,514", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "754ace42-63a8-4508-8f1d-536fca9a75f7", "duration": 0.001382, "status": 200}
{"asctime": "2025-08-08 00:55:31,010", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "de03889d-ade4-42e0-b303-03d09cdb6f0b", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:55:31,011", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "a729fd62-4420-4eca-8949-2d0c4b6dc67c", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:55:31,012", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "f15a3d3a-2502-460f-adf2-c7863a306015", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:55:31,012", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "de03889d-ade4-42e0-b303-03d09cdb6f0b", "duration": 0.001344, "status": 200}
{"asctime": "2025-08-08 00:55:31,013", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "a729fd62-4420-4eca-8949-2d0c4b6dc67c", "duration": 0.001656, "status": 200}
{"asctime": "2025-08-08 00:55:31,014", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "f15a3d3a-2502-460f-adf2-c7863a306015", "duration": 0.001797, "status": 200}
{"asctime": "2025-08-08 00:55:44,555", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "2cc62c9f-e938-4785-b97f-8988bf2579c2", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:55:44,555", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "2cc62c9f-e938-4785-b97f-8988bf2579c2", "duration": 0.000405, "status": 200}
{"asctime": "2025-08-08 00:56:01,035", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "aba47f37-14be-4b8d-86b0-e18c841d6bc5", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:01,036", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "3a565f78-68d2-4b94-bd0b-f563d8577d73", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:01,036", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "c82cbece-3166-4245-bd82-a36619ee62cb", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:01,036", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "aba47f37-14be-4b8d-86b0-e18c841d6bc5", "duration": 0.00122, "status": 200}
{"asctime": "2025-08-08 00:56:01,037", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "3a565f78-68d2-4b94-bd0b-f563d8577d73", "duration": 0.001398, "status": 200}
{"asctime": "2025-08-08 00:56:01,038", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "c82cbece-3166-4245-bd82-a36619ee62cb", "duration": 0.00153, "status": 200}
{"asctime": "2025-08-08 00:56:07,185", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "4c4ad861-44bd-44b5-aace-9616da3e5a6a", "method": "GET", "path": "/api/auth/me", "client": "127.0.0.1", "security_threat_level": "none"}
{"timestamp": "2025-08-08T04:56:07.193255", "level": "INFO", "logger": "ai_karen_engine.auth.monitoring.AuthMonitor", "message": "AuthMonitor initialized"}
{"asctime": "2025-08-08 00:56:07,193", "levelname": "INFO", "name": "ai_karen_engine.auth.monitoring.AuthMonitor", "message": "AuthMonitor initialized", "lineno": 634, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/monitoring.py"}
{"asctime": "2025-08-08 00:56:07,193", "levelname": "INFO", "name": "ai_karen_engine.auth.service.AuthService", "message": "AuthService initialized with mode: Consolidated auth service (database-backed, security-enhanced)", "lineno": 83, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/service.py"}
{"asctime": "2025-08-08 00:56:07,193", "levelname": "INFO", "name": "ai_karen_engine.auth.service.AuthService", "message": "Initializing AuthService components...", "lineno": 90, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/service.py"}
{"asctime": "2025-08-08 00:56:07,193", "levelname": "INFO", "name": "ai_karen_engine.auth.service.AuthService", "message": "Security layer initialized", "lineno": 101, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/service.py"}
{"asctime": "2025-08-08 00:56:07,194", "levelname": "INFO", "name": "ai_karen_engine.auth.service.AuthService", "message": "AuthService initialization completed successfully", "lineno": 104, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/service.py"}
{"asctime": "2025-08-08 00:56:07,194", "levelname": "ERROR", "name": "ai_karen_engine.server.middleware", "message": "Unhandled exception", "lineno": 159, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "exc_info": "Traceback (most recent call last):\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py\", line 145, in request_monitoring_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/usr/lib/python3.11/contextlib.py\", line 155, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py\", line 51, in security_headers_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/sessions.py\", line 85, in __call__\n    await self.app(scope, receive, send_wrapper)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/api_routes/auth.py\", line 302, in get_current_user_route\n    return UserResponse(**user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/pydantic/main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for UserResponse\ntwo_factor_enabled\n  Field required [type=missing, input_value={'user_id': 'c9449ed8-faf...True, 'is_active': True}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "request_id": "4c4ad861-44bd-44b5-aace-9616da3e5a6a"}
{"asctime": "2025-08-08 00:56:07,210", "levelname": "ERROR", "name": "uvicorn.error", "message": "Exception in ASGI application\n", "lineno": 414, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", "exc_info": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 409, in run_asgi\n    |     result = await app(  # type: ignore[func-returns-value]\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    |     return await self.app(scope, receive, send)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/fastapi/applications.py\", line 1054, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/applications.py\", line 113, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 186, in __call__\n    |     raise exc\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |   File \"/usr/lib/python3.11/contextlib.py\", line 155, in __exit__\n    |     self.gen.throw(typ, value, traceback)\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py\", line 160, in request_monitoring_middleware\n    |     raise HTTPException(status_code=500, detail=\"Internal server error\")\n    | fastapi.exceptions.HTTPException: 500: Internal server error\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 409, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    return await self.app(scope, receive, send)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/applications.py\", line 113, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 186, in __call__\n    raise exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/usr/lib/python3.11/contextlib.py\", line 155, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py\", line 160, in request_monitoring_middleware\n    raise HTTPException(status_code=500, detail=\"Internal server error\")\nfastapi.exceptions.HTTPException: 500: Internal server error"}
{"asctime": "2025-08-08 00:56:16,346", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "74a8fae0-2219-4239-8791-f0db2e48c9ef", "method": "OPTIONS", "path": "/api/auth/login", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:16,347", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "74a8fae0-2219-4239-8791-f0db2e48c9ef", "duration": 0.000662, "status": 200}
{"asctime": "2025-08-08 00:56:16,349", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "04d70ab3-6d9e-4048-a488-601058d3cefc", "method": "POST", "path": "/api/auth/login", "client": "127.0.0.1", "security_threat_level": "none"}
2025-08-08 00:56:16,645 - ai_karen_engine.auth.security.audit - INFO - AUTH_EVENT: login_success
{"asctime": "2025-08-08 00:56:16,645", "levelname": "INFO", "name": "ai_karen_engine.auth.security.audit", "message": "AUTH_EVENT: login_success", "lineno": 322, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/security.py", "auth_event": {"timestamp": "2025-08-08T04:56:16.644968", "event_id": "a474361b-11e1-4f43-80e8-91fcadfbc895", "event_type": "login_success", "success": true, "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": null, "ip_address": "127.0.0.1", "user_agent": "", "session_token": null, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 0.0, "service_version": "consolidated-auth-v1"}, "event_id": "a474361b-11e1-4f43-80e8-91fcadfbc895", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "ip_address": "127.0.0.1", "success": true, "risk_score": 0.0}
2025-08-08 00:56:16,645 - ai_karen_engine.auth.security.audit - INFO - AUTH_EVENT: login_success
{"asctime": "2025-08-08 00:56:16,645", "levelname": "INFO", "name": "ai_karen_engine.auth.security.audit", "message": "AUTH_EVENT: login_success", "lineno": 322, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/security.py", "auth_event": {"timestamp": "2025-08-08T04:56:16.645337", "event_id": "2cfd5f8d-27b6-4b64-8085-d08b20b34e95", "event_type": "login_success", "success": true, "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": "default", "ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36", "session_token": null, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 289.408, "service_version": "consolidated-auth-v1"}, "event_id": "2cfd5f8d-27b6-4b64-8085-d08b20b34e95", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "ip_address": "127.0.0.1", "success": true, "risk_score": 0.0}
{"timestamp": "2025-08-08T04:56:16.645599", "level": "INFO", "logger": "ai_karen_engine.auth.monitoring.AuthMonitor", "message": "AUTH_EVENT: login_success - SUCCESS", "auth_event": {"event_id": "2cfd5f8d-27b6-4b64-8085-d08b20b34e95", "event_type": "login_success", "timestamp": "2025-08-08T04:56:16.645337", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": "default", "ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36", "request_id": null, "session_token": null, "success": true, "error_message": null, "details": {}, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 289.408, "service_version": "consolidated-auth-v1"}, "event_id": "2cfd5f8d-27b6-4b64-8085-d08b20b34e95", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "ip_address": "127.0.0.1"}
{"asctime": "2025-08-08 00:56:16,645", "levelname": "INFO", "name": "ai_karen_engine.auth.monitoring.AuthMonitor", "message": "AUTH_EVENT: login_success - SUCCESS", "lineno": 741, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/monitoring.py", "auth_event": {"event_id": "2cfd5f8d-27b6-4b64-8085-d08b20b34e95", "event_type": "login_success", "timestamp": "2025-08-08T04:56:16.645337", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": "default", "ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36", "request_id": null, "session_token": null, "success": true, "error_message": null, "details": {}, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 289.408, "service_version": "consolidated-auth-v1"}, "event_id": "2cfd5f8d-27b6-4b64-8085-d08b20b34e95", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "ip_address": "127.0.0.1", "success": true, "risk_score": 0.0, "processing_time_ms": 289.408}
{"asctime": "2025-08-08 00:56:16,646", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "04d70ab3-6d9e-4048-a488-601058d3cefc", "duration": 0.296063, "status": 403}
{"asctime": "2025-08-08 00:56:17,574", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "cfaccff6-b0e0-4241-91bf-9213662578f3", "method": "POST", "path": "/api/auth/login", "client": "127.0.0.1", "security_threat_level": "none"}
2025-08-08 00:56:17,856 - ai_karen_engine.auth.security.audit - INFO - AUTH_EVENT: login_success
{"asctime": "2025-08-08 00:56:17,856", "levelname": "INFO", "name": "ai_karen_engine.auth.security.audit", "message": "AUTH_EVENT: login_success", "lineno": 322, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/security.py", "auth_event": {"timestamp": "2025-08-08T04:56:17.856054", "event_id": "436d87d4-cf3c-4267-895f-5c63a153255f", "event_type": "login_success", "success": true, "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": null, "ip_address": "127.0.0.1", "user_agent": "", "session_token": null, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 0.0, "service_version": "consolidated-auth-v1"}, "event_id": "436d87d4-cf3c-4267-895f-5c63a153255f", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "ip_address": "127.0.0.1", "success": true, "risk_score": 0.0}
2025-08-08 00:56:17,856 - ai_karen_engine.auth.security.audit - INFO - AUTH_EVENT: login_success
{"asctime": "2025-08-08 00:56:17,856", "levelname": "INFO", "name": "ai_karen_engine.auth.security.audit", "message": "AUTH_EVENT: login_success", "lineno": 322, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/security.py", "auth_event": {"timestamp": "2025-08-08T04:56:17.856459", "event_id": "9262ad30-024c-4639-8f4c-684a6a547629", "event_type": "login_success", "success": true, "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": "default", "ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36", "session_token": null, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 281.009, "service_version": "consolidated-auth-v1"}, "event_id": "9262ad30-024c-4639-8f4c-684a6a547629", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "ip_address": "127.0.0.1", "success": true, "risk_score": 0.0}
{"timestamp": "2025-08-08T04:56:17.856749", "level": "INFO", "logger": "ai_karen_engine.auth.monitoring.AuthMonitor", "message": "AUTH_EVENT: login_success - SUCCESS", "auth_event": {"event_id": "9262ad30-024c-4639-8f4c-684a6a547629", "event_type": "login_success", "timestamp": "2025-08-08T04:56:17.856459", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": "default", "ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36", "request_id": null, "session_token": null, "success": true, "error_message": null, "details": {}, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 281.009, "service_version": "consolidated-auth-v1"}, "event_id": "9262ad30-024c-4639-8f4c-684a6a547629", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "ip_address": "127.0.0.1"}
{"asctime": "2025-08-08 00:56:17,856", "levelname": "INFO", "name": "ai_karen_engine.auth.monitoring.AuthMonitor", "message": "AUTH_EVENT: login_success - SUCCESS", "lineno": 741, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/monitoring.py", "auth_event": {"event_id": "9262ad30-024c-4639-8f4c-684a6a547629", "event_type": "login_success", "timestamp": "2025-08-08T04:56:17.856459", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": "default", "ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36", "request_id": null, "session_token": null, "success": true, "error_message": null, "details": {}, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 281.009, "service_version": "consolidated-auth-v1"}, "event_id": "9262ad30-024c-4639-8f4c-684a6a547629", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "ip_address": "127.0.0.1", "success": true, "risk_score": 0.0, "processing_time_ms": 281.009}
{"asctime": "2025-08-08 00:56:17,857", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "cfaccff6-b0e0-4241-91bf-9213662578f3", "duration": 0.282437, "status": 403}
{"asctime": "2025-08-08 00:56:17,858", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "5562f3d9-32bd-4e16-b7a5-adf10026b159", "method": "OPTIONS", "path": "/api/auth/login", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:17,858", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "5562f3d9-32bd-4e16-b7a5-adf10026b159", "duration": 0.00041, "status": 200}
{"asctime": "2025-08-08 00:56:17,860", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "39a1c53e-caa4-4b68-81cc-e8a4a2ddbfb0", "method": "POST", "path": "/api/auth/login", "client": "127.0.0.1", "security_threat_level": "none"}
2025-08-08 00:56:18,150 - ai_karen_engine.auth.security.audit - INFO - AUTH_EVENT: login_success
{"asctime": "2025-08-08 00:56:18,150", "levelname": "INFO", "name": "ai_karen_engine.auth.security.audit", "message": "AUTH_EVENT: login_success", "lineno": 322, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/security.py", "auth_event": {"timestamp": "2025-08-08T04:56:18.150829", "event_id": "9ffc6fad-1c27-40ad-a9f8-cf30e6d83c4b", "event_type": "login_success", "success": true, "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": null, "ip_address": "127.0.0.1", "user_agent": "", "session_token": null, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 0.0, "service_version": "consolidated-auth-v1"}, "event_id": "9ffc6fad-1c27-40ad-a9f8-cf30e6d83c4b", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "ip_address": "127.0.0.1", "success": true, "risk_score": 0.0}
2025-08-08 00:56:18,151 - ai_karen_engine.auth.security.audit - INFO - AUTH_EVENT: login_success
{"asctime": "2025-08-08 00:56:18,151", "levelname": "INFO", "name": "ai_karen_engine.auth.security.audit", "message": "AUTH_EVENT: login_success", "lineno": 322, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/security.py", "auth_event": {"timestamp": "2025-08-08T04:56:18.151289", "event_id": "ac4c6bf1-f3eb-4cc5-b085-79d3bf3a0dcf", "event_type": "login_success", "success": true, "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": "default", "ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36", "session_token": null, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 290.551, "service_version": "consolidated-auth-v1"}, "event_id": "ac4c6bf1-f3eb-4cc5-b085-79d3bf3a0dcf", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "ip_address": "127.0.0.1", "success": true, "risk_score": 0.0}
{"timestamp": "2025-08-08T04:56:18.151617", "level": "INFO", "logger": "ai_karen_engine.auth.monitoring.AuthMonitor", "message": "AUTH_EVENT: login_success - SUCCESS", "auth_event": {"event_id": "ac4c6bf1-f3eb-4cc5-b085-79d3bf3a0dcf", "event_type": "login_success", "timestamp": "2025-08-08T04:56:18.151289", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": "default", "ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36", "request_id": null, "session_token": null, "success": true, "error_message": null, "details": {}, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 290.551, "service_version": "consolidated-auth-v1"}, "event_id": "ac4c6bf1-f3eb-4cc5-b085-79d3bf3a0dcf", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "ip_address": "127.0.0.1"}
{"asctime": "2025-08-08 00:56:18,151", "levelname": "INFO", "name": "ai_karen_engine.auth.monitoring.AuthMonitor", "message": "AUTH_EVENT: login_success - SUCCESS", "lineno": 741, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/monitoring.py", "auth_event": {"event_id": "ac4c6bf1-f3eb-4cc5-b085-79d3bf3a0dcf", "event_type": "login_success", "timestamp": "2025-08-08T04:56:18.151289", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": "default", "ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36", "request_id": null, "session_token": null, "success": true, "error_message": null, "details": {}, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 290.551, "service_version": "consolidated-auth-v1"}, "event_id": "ac4c6bf1-f3eb-4cc5-b085-79d3bf3a0dcf", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "ip_address": "127.0.0.1", "success": true, "risk_score": 0.0, "processing_time_ms": 290.551}
{"asctime": "2025-08-08 00:56:18,152", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "39a1c53e-caa4-4b68-81cc-e8a4a2ddbfb0", "duration": 0.291823, "status": 403}
{"asctime": "2025-08-08 00:56:18,860", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "43d58644-eacc-4bf1-a91b-d4c220b2a7e7", "method": "POST", "path": "/api/auth/login", "client": "127.0.0.1", "security_threat_level": "none"}
2025-08-08 00:56:19,152 - ai_karen_engine.auth.security.audit - INFO - AUTH_EVENT: login_success
{"asctime": "2025-08-08 00:56:19,152", "levelname": "INFO", "name": "ai_karen_engine.auth.security.audit", "message": "AUTH_EVENT: login_success", "lineno": 322, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/security.py", "auth_event": {"timestamp": "2025-08-08T04:56:19.152165", "event_id": "a0c02f68-6532-4569-b31c-84c528872ba0", "event_type": "login_success", "success": true, "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": null, "ip_address": "127.0.0.1", "user_agent": "", "session_token": null, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 0.0, "service_version": "consolidated-auth-v1"}, "event_id": "a0c02f68-6532-4569-b31c-84c528872ba0", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "ip_address": "127.0.0.1", "success": true, "risk_score": 0.0}
2025-08-08 00:56:19,152 - ai_karen_engine.auth.security.audit - INFO - AUTH_EVENT: login_success
{"asctime": "2025-08-08 00:56:19,152", "levelname": "INFO", "name": "ai_karen_engine.auth.security.audit", "message": "AUTH_EVENT: login_success", "lineno": 322, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/security.py", "auth_event": {"timestamp": "2025-08-08T04:56:19.152549", "event_id": "10e1b218-a5e3-4590-9119-48186624c2fc", "event_type": "login_success", "success": true, "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": "default", "ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36", "session_token": null, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 291.168, "service_version": "consolidated-auth-v1"}, "event_id": "10e1b218-a5e3-4590-9119-48186624c2fc", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "ip_address": "127.0.0.1", "success": true, "risk_score": 0.0}
{"timestamp": "2025-08-08T04:56:19.152848", "level": "INFO", "logger": "ai_karen_engine.auth.monitoring.AuthMonitor", "message": "AUTH_EVENT: login_success - SUCCESS", "auth_event": {"event_id": "10e1b218-a5e3-4590-9119-48186624c2fc", "event_type": "login_success", "timestamp": "2025-08-08T04:56:19.152549", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": "default", "ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36", "request_id": null, "session_token": null, "success": true, "error_message": null, "details": {}, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 291.168, "service_version": "consolidated-auth-v1"}, "event_id": "10e1b218-a5e3-4590-9119-48186624c2fc", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "ip_address": "127.0.0.1"}
{"asctime": "2025-08-08 00:56:19,152", "levelname": "INFO", "name": "ai_karen_engine.auth.monitoring.AuthMonitor", "message": "AUTH_EVENT: login_success - SUCCESS", "lineno": 741, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/auth/monitoring.py", "auth_event": {"event_id": "10e1b218-a5e3-4590-9119-48186624c2fc", "event_type": "login_success", "timestamp": "2025-08-08T04:56:19.152549", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "tenant_id": "default", "ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36", "request_id": null, "session_token": null, "success": true, "error_message": null, "details": {}, "risk_score": 0.0, "security_flags": [], "blocked_by_security": false, "processing_time_ms": 291.168, "service_version": "consolidated-auth-v1"}, "event_id": "10e1b218-a5e3-4590-9119-48186624c2fc", "user_id": "c0d8a6ed-d8f2-43c7-a7ac-07cbc0bfc74e", "email": "cors_test@example.com", "ip_address": "127.0.0.1", "success": true, "risk_score": 0.0, "processing_time_ms": 291.168}
{"asctime": "2025-08-08 00:56:19,153", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "43d58644-eacc-4bf1-a91b-d4c220b2a7e7", "duration": 0.29286, "status": 403}
{"asctime": "2025-08-08 00:56:27,506", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "3dbebce7-99e3-4c1c-9c5d-0727f069dd68", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:27,506", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "591289d7-a031-4bdd-bdc6-b455878432fe", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:27,507", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "3dbebce7-99e3-4c1c-9c5d-0727f069dd68", "duration": 0.001036, "status": 200}
{"asctime": "2025-08-08 00:56:27,507", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "591289d7-a031-4bdd-bdc6-b455878432fe", "duration": 0.00104, "status": 200}
{"asctime": "2025-08-08 00:56:31,058", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "299fcd93-d63a-445e-9691-b81f7e33b933", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:31,060", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "cf269a1b-8e5f-4435-a182-42fdfde89dac", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:31,060", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "9464f988-7d94-4fd8-804f-dbddb616d989", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:31,061", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "299fcd93-d63a-445e-9691-b81f7e33b933", "duration": 0.002295, "status": 200}
{"asctime": "2025-08-08 00:56:31,062", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "cf269a1b-8e5f-4435-a182-42fdfde89dac", "duration": 0.001989, "status": 200}
{"asctime": "2025-08-08 00:56:31,062", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "9464f988-7d94-4fd8-804f-dbddb616d989", "duration": 0.002084, "status": 200}
{"asctime": "2025-08-08 00:56:37,457", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "b5373da3-0f17-45f5-a693-ecd45c6ee43c", "method": "GET", "path": "/api/auth/me", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:37,458", "levelname": "ERROR", "name": "ai_karen_engine.server.middleware", "message": "Unhandled exception", "lineno": 159, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "exc_info": "Traceback (most recent call last):\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py\", line 145, in request_monitoring_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/usr/lib/python3.11/contextlib.py\", line 155, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py\", line 51, in security_headers_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/sessions.py\", line 85, in __call__\n    await self.app(scope, receive, send_wrapper)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/api_routes/auth.py\", line 302, in get_current_user_route\n    return UserResponse(**user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/pydantic/main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for UserResponse\ntwo_factor_enabled\n  Field required [type=missing, input_value={'user_id': 'c9449ed8-faf...True, 'is_active': True}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "request_id": "b5373da3-0f17-45f5-a693-ecd45c6ee43c"}
{"asctime": "2025-08-08 00:56:37,467", "levelname": "ERROR", "name": "uvicorn.error", "message": "Exception in ASGI application\n", "lineno": 414, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", "exc_info": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 409, in run_asgi\n    |     result = await app(  # type: ignore[func-returns-value]\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    |     return await self.app(scope, receive, send)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/fastapi/applications.py\", line 1054, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/applications.py\", line 113, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 186, in __call__\n    |     raise exc\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |   File \"/usr/lib/python3.11/contextlib.py\", line 155, in __exit__\n    |     self.gen.throw(typ, value, traceback)\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py\", line 160, in request_monitoring_middleware\n    |     raise HTTPException(status_code=500, detail=\"Internal server error\")\n    | fastapi.exceptions.HTTPException: 500: Internal server error\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 409, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    return await self.app(scope, receive, send)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/applications.py\", line 113, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 186, in __call__\n    raise exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/usr/lib/python3.11/contextlib.py\", line 155, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py\", line 160, in request_monitoring_middleware\n    raise HTTPException(status_code=500, detail=\"Internal server error\")\nfastapi.exceptions.HTTPException: 500: Internal server error"}
{"asctime": "2025-08-08 00:56:57,506", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "f0894a3e-e949-4199-b553-48a5004298ca", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:57,506", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "e8e19bec-ee89-41ee-ada6-86ef810735f0", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:56:57,507", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "f0894a3e-e949-4199-b553-48a5004298ca", "duration": 0.001057, "status": 200}
{"asctime": "2025-08-08 00:56:57,507", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "e8e19bec-ee89-41ee-ada6-86ef810735f0", "duration": 0.001067, "status": 200}
{"asctime": "2025-08-08 00:57:01,085", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "d0a42839-8f19-40b2-a815-6998f67e82d5", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:57:01,086", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "a5a459d0-bb82-4d14-9cf9-de020d5513db", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:57:01,086", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "32dd9cff-7fa2-419e-94e8-8b225295c4b6", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:57:01,086", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "d0a42839-8f19-40b2-a815-6998f67e82d5", "duration": 0.001398, "status": 200}
{"asctime": "2025-08-08 00:57:01,088", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "a5a459d0-bb82-4d14-9cf9-de020d5513db", "duration": 0.001677, "status": 200}
{"asctime": "2025-08-08 00:57:01,088", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "32dd9cff-7fa2-419e-94e8-8b225295c4b6", "duration": 0.001568, "status": 200}
WARNING:  StatReload detected changes in 'src/ai_karen_engine/core/dependencies.py'. Reloading...
{"asctime": "2025-08-08 00:57:27,082", "levelname": "INFO", "name": "uvicorn.error", "message": "Shutting down", "lineno": 264, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/server.py"}
{"asctime": "2025-08-08 00:57:27,182", "levelname": "INFO", "name": "uvicorn.error", "message": "Waiting for application shutdown.", "lineno": 67, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/lifespan/on.py"}
{"asctime": "2025-08-08 00:57:27,183", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Shutting down Kari AI Server", "lineno": 110, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:57:27,183", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Background tasks stopped", "lineno": 95, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:57:27,183", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Shutting down services...", "lineno": 296, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:27,184", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Stopped health monitoring", "lineno": 292, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:27,184", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "Stopping service: ai_orchestrator", "lineno": 144, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/services/base.py"}
{"asctime": "2025-08-08 00:57:27,184", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "Stopping AI Orchestrator Service", "lineno": 71, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/ai_orchestrator.py"}
{"asctime": "2025-08-08 00:57:27,184", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "AI Orchestrator Service stopped", "lineno": 73, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/ai_orchestrator.py"}
{"asctime": "2025-08-08 00:57:27,184", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "Service stopped: ai_orchestrator", "lineno": 152, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/services/base.py"}
{"asctime": "2025-08-08 00:57:27,184", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service ai_orchestrator shut down successfully", "lineno": 311, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:27,184", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service conversation_service shut down successfully", "lineno": 311, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:27,185", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service memory_service shut down successfully", "lineno": 311, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:27,185", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service plugin_service shut down successfully", "lineno": 311, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:27,185", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service tool_service shut down successfully", "lineno": 311, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:27,185", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "All services shut down", "lineno": 316, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:27,185", "levelname": "INFO", "name": "kari.memory.manager", "message": "[MemoryManager] Memory manager closed successfully", "lineno": 496, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/memory/manager.py"}
{"asctime": "2025-08-08 00:57:27,185", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "AI services cleanup completed", "lineno": 58, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:57:27,186", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Server shutdown completed", "lineno": 113, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:57:27,186", "levelname": "INFO", "name": "uvicorn.error", "message": "Application shutdown complete.", "lineno": 76, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/lifespan/on.py"}
{"asctime": "2025-08-08 00:57:27,186", "levelname": "INFO", "name": "uvicorn.error", "message": "Finished server process [3986126]", "lineno": 94, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/server.py", "color_message": "Finished server process [\u001b[36m%d\u001b[0m]"}
[2025-08-08T00:57:33.955856] [WARNING] [ai_karen_engine.config.model_registry] [llama-cpp] Failed to list models: [Errno 2] No such file or directory: '/models'
[2025-08-08T00:57:33.974530] [WARNING] [ai_karen_engine.integrations.providers.copilotkit_provider] CopilotKit not available, using fallback mode
[2025-08-08T00:57:34.286939] [INFO] [ai_karen_engine.database.client] Database engine initialized successfully
[2025-08-08T00:57:34.442624] [INFO] [ai_karen_engine.core.config_manager] Loaded configuration from config.json
[2025-08-08T00:57:34.442796] [INFO] [ai_karen_engine.core.config_manager] Configuration validation passed
[2025-08-08T00:57:34.442853] [INFO] [ai_karen_engine.core.config_manager] Configuration loaded for environment: Environment.DEVELOPMENT
[2025-08-08T00:57:34.442952] [INFO] [ai_karen_engine.services.nlp_service_manager] NLP configuration loaded successfully
[2025-08-08T00:57:34.781245] [INFO] [ai_karen_engine.services.spacy_service] spaCy service initialized with model: en_core_web_sm
[2025-08-08T00:57:34.786103] [INFO] [ai_karen_engine.services.distilbert_service] Using GPU: NVIDIA GeForce RTX 2080 SUPER
[2025-08-08T00:57:36.423319] [INFO] [ai_karen_engine.services.distilbert_service] DistilBERT service initialized with model: distilbert-base-uncased
[2025-08-08T00:57:36.423421] [INFO] [ai_karen_engine.services.distilbert_service] Using device: cuda
[2025-08-08T00:57:36.423475] [INFO] [ai_karen_engine.services.nlp_service_manager] NLP Service Manager initialized
[2025-08-08T00:57:36.483938] [INFO] [ai_karen_engine.chat.file_attachment_service] FileAttachmentService initialized with storage: data/attachments
[2025-08-08T00:57:36.484056] [INFO] [ai_karen_engine.chat.multimedia_service] Image processing capabilities enabled
[2025-08-08T00:57:36.484093] [INFO] [ai_karen_engine.chat.multimedia_service] Audio processing capabilities enabled
[2025-08-08T00:57:36.484119] [INFO] [ai_karen_engine.chat.multimedia_service] Video processing capabilities enabled
[2025-08-08T00:57:36.484141] [INFO] [ai_karen_engine.chat.multimedia_service] Content moderation enabled
[2025-08-08T00:57:36.484165] [INFO] [ai_karen_engine.chat.multimedia_service] MultimediaService initialized
{"asctime": "2025-08-08 00:57:36,550", "levelname": "DEBUG", "name": "asyncio", "message": "Using selector: EpollSelector", "lineno": 54, "pathname": "/usr/lib/python3.11/asyncio/selector_events.py"}
{"asctime": "2025-08-08 00:57:36,681", "levelname": "WARNING", "name": "kari", "message": "Metrics already registered, using dummy metrics", "lineno": 227, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/main.py"}
{"asctime": "2025-08-08 00:57:36,716", "levelname": "INFO", "name": "uvicorn.error", "message": "Started server process [4013569]", "lineno": 84, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/server.py", "color_message": "Started server process [\u001b[36m%d\u001b[0m]"}
{"asctime": "2025-08-08 00:57:36,716", "levelname": "INFO", "name": "uvicorn.error", "message": "Waiting for application startup.", "lineno": 48, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/lifespan/on.py"}
{"asctime": "2025-08-08 00:57:36,717", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Starting Kari AI Server in development mode", "lineno": 101, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:57:36,717", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Database initialized", "lineno": 19, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:57:36,787", "levelname": "WARNING", "name": "ai_karen_engine.server.plugin_loader", "message": "Plugin directory not found: /app/plugins", "lineno": 29, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/plugin_loader.py"}
{"asctime": "2025-08-08 00:57:36,856", "levelname": "DEBUG", "name": "httpcore.connection", "message": "connect_tcp.started host='127.0.0.1' port=11434 local_address=None timeout=None socket_options=None", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:57:36,857", "levelname": "DEBUG", "name": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fde10b52d50>", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:57:36,857", "levelname": "DEBUG", "name": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:57:36,857", "levelname": "DEBUG", "name": "httpcore.http11", "message": "send_request_headers.complete", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:57:36,857", "levelname": "DEBUG", "name": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:57:36,858", "levelname": "DEBUG", "name": "httpcore.http11", "message": "send_request_body.complete", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:57:36,858", "levelname": "DEBUG", "name": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:57:36,858", "levelname": "DEBUG", "name": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Fri, 08 Aug 2025 04:57:36 GMT'), (b'Content-Length', b'334')])", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:57:36,858", "levelname": "INFO", "name": "httpx", "message": "HTTP Request: GET http://127.0.0.1:11434/api/tags \"HTTP/1.1 200 OK\"", "lineno": 1025, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpx/_client.py"}
{"asctime": "2025-08-08 00:57:36,859", "levelname": "DEBUG", "name": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:57:36,859", "levelname": "DEBUG", "name": "httpcore.http11", "message": "receive_response_body.complete", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:57:36,859", "levelname": "DEBUG", "name": "httpcore.http11", "message": "response_closed.started", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
{"asctime": "2025-08-08 00:57:36,859", "levelname": "DEBUG", "name": "httpcore.http11", "message": "response_closed.complete", "lineno": 47, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/httpcore/_trace.py"}
Unexpected model entry: model='llama3.2:1b' modified_at=datetime.datetime(2025, 7, 26, 2, 50, 9, 287211, tzinfo=TzInfo(UTC)) digest='baf6a787fdffd633537aa2eb51cfd54cb93ff08e28040095462bb63daf552878' size=1321098329 details=ModelDetails(parent_model='', format='gguf', family='llama', families=['llama'], parameter_size='1.2B', quantization_level='Q8_0')
{"asctime": "2025-08-08 00:57:36,861", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Registered service: ai_orchestrator", "lineno": 89, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:36,861", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Registered service: memory_service", "lineno": 89, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:36,861", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Registered service: conversation_service", "lineno": 89, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:36,861", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Registered service: plugin_service", "lineno": 89, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:36,861", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Registered service: tool_service", "lineno": 89, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:36,862", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Initializing all services...", "lineno": 225, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:36,862", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Initializing service: ai_orchestrator", "lineno": 116, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:36,862", "levelname": "INFO", "name": "ai_orchestrator.prompt_manager", "message": "Registered prompt template: conversation_processing", "lineno": 14, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/prompt_manager.py"}
{"asctime": "2025-08-08 00:57:36,862", "levelname": "INFO", "name": "ai_orchestrator.prompt_manager", "message": "Registered prompt template: decision_making", "lineno": 14, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/prompt_manager.py"}
{"asctime": "2025-08-08 00:57:36,863", "levelname": "INFO", "name": "kari.llm_registry", "message": "Loaded registry from models/llm_registry.json", "lineno": 149, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/integrations/llm_registry.py"}
{"asctime": "2025-08-08 00:57:36,864", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "Initializing AI Orchestrator Service", "lineno": 42, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/ai_orchestrator.py"}
{"asctime": "2025-08-08 00:57:36,864", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "Memory service integration deferred until first use", "lineno": 59, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/ai_orchestrator.py"}
{"asctime": "2025-08-08 00:57:36,865", "levelname": "INFO", "name": "ai_orchestrator.flow_manager", "message": "Registered flow handler for FlowType.DECIDE_ACTION", "lineno": 54, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/flow_manager.py"}
{"asctime": "2025-08-08 00:57:36,865", "levelname": "INFO", "name": "ai_orchestrator.flow_manager", "message": "Registered flow handler for FlowType.CONVERSATION_PROCESSING", "lineno": 54, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/flow_manager.py"}
{"asctime": "2025-08-08 00:57:36,865", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "Default flows registered", "lineno": 92, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/ai_orchestrator.py"}
{"asctime": "2025-08-08 00:57:36,865", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "AI Orchestrator Service initialized successfully", "lineno": 49, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/ai_orchestrator.py"}
{"asctime": "2025-08-08 00:57:36,865", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service ai_orchestrator initialized successfully in 0.00s", "lineno": 214, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:36,865", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Initializing service: memory_service", "lineno": 116, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:36,866", "levelname": "INFO", "name": "ai_karen_engine.database.client", "message": "Database engine initialized successfully", "lineno": 85, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/logging/logger.py", "context": {}, "timestamp": "2025-08-08T00:57:36.866276", "logger_name": "ai_karen_engine.database.client"}
{"asctime": "2025-08-08 00:57:36,866", "levelname": "INFO", "name": "ai_karen_engine.core.embedding_manager", "message": "[EmbeddingManager] Loading DistilBERT model: sentence-transformers/distilbert-base-nli-stsb-mean-tokens", "lineno": 65, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/embedding_manager.py"}
{"asctime": "2025-08-08 00:57:36,867", "levelname": "INFO", "name": "sentence_transformers.SentenceTransformer", "message": "Use pytorch device_name: cuda:0", "lineno": 219, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py"}
{"asctime": "2025-08-08 00:57:36,867", "levelname": "INFO", "name": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: sentence-transformers/distilbert-base-nli-stsb-mean-tokens", "lineno": 227, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py"}
{"asctime": "2025-08-08 00:57:37,143", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/modules.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:37,213", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/modules.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:37,287", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/config_sentence_transformers.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:37,364", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/config_sentence_transformers.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:37,454", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/config_sentence_transformers.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:37,546", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/config_sentence_transformers.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:37,630", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/README.md HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:37,685", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/README.md HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:38,082", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/modules.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:38,174", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/modules.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:38,308", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/sentence_bert_config.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:38,357", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/sentence_bert_config.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:38,440", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/adapter_config.json HTTP/1.1\" 404 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:38,530", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/config.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:38,585", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/config.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:38,713", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/tokenizer_config.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:38,767", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/tokenizer_config.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:38,893", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"GET /api/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1\" 404 64", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:38,985", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /sentence-transformers/distilbert-base-nli-stsb-mean-tokens/resolve/main/1_Pooling/config.json HTTP/1.1\" 307 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:39,035", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"HEAD /api/resolve-cache/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens/84fc3c34014de8c85cde3fece74ab56fbe9d4fce/1_Pooling%2Fconfig.json HTTP/1.1\" 200 0", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
{"asctime": "2025-08-08 00:57:39,112", "levelname": "DEBUG", "name": "urllib3.connectionpool", "message": "https://huggingface.co:443 \"GET /api/models/sentence-transformers/distilbert-base-nli-stsb-mean-tokens HTTP/1.1\" 200 5116", "lineno": 544, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/urllib3/connectionpool.py"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 13.50it/s]
{"asctime": "2025-08-08 00:57:39,230", "levelname": "INFO", "name": "ai_karen_engine.core.embedding_manager", "message": "[EmbeddingManager] Successfully loaded sentence-transformers/distilbert-base-nli-stsb-mean-tokens in 2.36s (dim=768)", "lineno": 76, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/embedding_manager.py"}
{"asctime": "2025-08-08 00:57:39,231", "levelname": "INFO", "name": "ai_karen_engine.core.default_models", "message": "Default embedding model loaded: True", "lineno": 25, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/default_models.py"}
{"asctime": "2025-08-08 00:57:40,547", "levelname": "ERROR", "name": "ai_karen_engine.core.default_models", "message": "Failed to load spaCy model: type object 'SpaCyClient' has no attribute 'DEFAULT_MODEL'", "lineno": 38, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/default_models.py"}
{"asctime": "2025-08-08 00:57:40,549", "levelname": "INFO", "name": "ai_karen_engine.core.default_models", "message": "Basic classifier ready", "lineno": 44, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/default_models.py"}
{"asctime": "2025-08-08 00:57:40,549", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service memory_service initialized successfully in 3.68s", "lineno": 214, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:40,549", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Initializing service: conversation_service", "lineno": 116, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:40,549", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service conversation_service initialized successfully in 0.00s", "lineno": 214, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:40,549", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Initializing service: plugin_service", "lineno": 116, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:40,549", "levelname": "INFO", "name": "ai_karen_engine.services.plugin_service", "message": "Initializing plugin service...", "lineno": 63, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_service.py"}
{"asctime": "2025-08-08 00:57:40,550", "levelname": "INFO", "name": "ai_karen_engine.services.plugin_registry", "message": "Starting plugin discovery...", "lineno": 166, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_registry.py"}
{"asctime": "2025-08-08 00:57:40,550", "levelname": "ERROR", "name": "ai_karen_engine.services.plugin_registry", "message": "Failed to load plugin metadata from plugin_marketplace/ai/copilotkit-code-reviewer/plugin_manifest.json: 2 validation errors for PluginManifest\nplugin_type\n  Input should be 'core', 'automation', 'ai', 'integration', 'example' or 'custom' [type=enum, input_value='code_analysis', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/enum\ndependencies\n  Input should be a valid list [type=list_type, input_value={'copilotkit': '>=1.0.0',...aren_engine': '>=1.0.0'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/list_type", "lineno": 262, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_registry.py"}
{"asctime": "2025-08-08 00:57:40,550", "levelname": "ERROR", "name": "ai_karen_engine.services.plugin_registry", "message": "Failed to load plugin metadata from plugin_marketplace/ai/copilotkit-debug-assistant/plugin_manifest.json: 2 validation errors for PluginManifest\nplugin_type\n  Input should be 'core', 'automation', 'ai', 'integration', 'example' or 'custom' [type=enum, input_value='ai_assistance', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/enum\ndependencies\n  Input should be a valid list [type=list_type, input_value={'copilotkit': '>=1.0.0',...aren_engine': '>=1.0.0'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/list_type", "lineno": 262, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_registry.py"}
{"asctime": "2025-08-08 00:57:40,558", "levelname": "ERROR", "name": "ai_karen_engine.services.plugin_registry", "message": "Failed to load plugin metadata from plugin_marketplace/examples/hook-workflow-demo/plugin_manifest.json: 3 validation errors for PluginManifest\nname\n  Field required [type=missing, input_value={'plugin_api_version': '1...andle_workflow_error']}}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nmodule\n  Field required [type=missing, input_value={'plugin_api_version': '1...andle_workflow_error']}}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ndependencies\n  Input should be a valid list [type=list_type, input_value={'system_services': [], '..., 'python_packages': []}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/list_type", "lineno": 262, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_registry.py"}
{"asctime": "2025-08-08 00:57:40,572", "levelname": "INFO", "name": "ai_karen_engine.services.plugin_registry", "message": "Discovered 18 plugins", "lineno": 199, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_registry.py"}
{"asctime": "2025-08-08 00:57:40,572", "levelname": "INFO", "name": "ai_karen_engine.services.plugin_service", "message": "Plugin service initialized successfully", "lineno": 78, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/plugin_service.py"}
{"asctime": "2025-08-08 00:57:40,572", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service plugin_service initialized successfully in 0.02s", "lineno": 214, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:40,573", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Initializing service: tool_service", "lineno": 116, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:40,573", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service tool_service initialized successfully in 0.00s", "lineno": 214, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:40,573", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service initialization complete: 5/5 services ready", "lineno": 237, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:40,573", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Started health monitoring", "lineno": 286, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:40,573", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "AI Karen engine integration services initialized successfully", "lineno": 400, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:57:40,573", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "AI services initialized", "lineno": 41, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:57:40,574", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Security components initialized", "lineno": 67, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:57:40,574", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Started model registry refresh task", "lineno": 83, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:57:40,574", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Server startup completed", "lineno": 106, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:57:40,574", "levelname": "INFO", "name": "uvicorn.error", "message": "Application startup complete.", "lineno": 62, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/lifespan/on.py"}
{"asctime": "2025-08-08 00:57:40,578", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "aeb1bab4-0677-4b18-a407-e11968124e09", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:57:40,578", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "5bfe1db6-0662-41d7-845c-4a43a52d34e6", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:57:40,578", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "1905acc4-e04b-4305-b3af-18bce7b41aff", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:57:40,579", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "bb05ef21-6e5a-43c2-ba60-eff8e6d81c77", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:57:40,579", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "6e5a6e28-3535-459c-b71c-2d6cf7747991", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:57:40,581", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "aeb1bab4-0677-4b18-a407-e11968124e09", "duration": 0.002922, "status": 200}
{"asctime": "2025-08-08 00:57:40,581", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "5bfe1db6-0662-41d7-845c-4a43a52d34e6", "duration": 0.002736, "status": 200}
{"asctime": "2025-08-08 00:57:40,581", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "1905acc4-e04b-4305-b3af-18bce7b41aff", "duration": 0.002687, "status": 200}
{"asctime": "2025-08-08 00:57:40,581", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "bb05ef21-6e5a-43c2-ba60-eff8e6d81c77", "duration": 0.002619, "status": 200}
{"asctime": "2025-08-08 00:57:40,582", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "6e5a6e28-3535-459c-b71c-2d6cf7747991", "duration": 0.002543, "status": 200}
{"asctime": "2025-08-08 00:57:57,506", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "09c598f1-fd0b-4817-8322-70e51dd905e3", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:57:57,507", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "e221fdf9-9c05-42c2-8b1e-37f09b8a264a", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:57:57,507", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "09c598f1-fd0b-4817-8322-70e51dd905e3", "duration": 0.001031, "status": 200}
{"asctime": "2025-08-08 00:57:57,508", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "e221fdf9-9c05-42c2-8b1e-37f09b8a264a", "duration": 0.000843, "status": 200}
{"asctime": "2025-08-08 00:58:01,126", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "732b0df2-42aa-4ccc-a07d-6032db08cbfd", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:58:01,128", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "4ee2d961-ebfe-45a6-9aa4-5a709707d502", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:58:01,128", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request started", "lineno": 132, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "adae58f6-89b5-4227-9d36-fb0031944941", "method": "GET", "path": "/health", "client": "127.0.0.1", "security_threat_level": "none"}
{"asctime": "2025-08-08 00:58:01,128", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "732b0df2-42aa-4ccc-a07d-6032db08cbfd", "duration": 0.001337, "status": 200}
{"asctime": "2025-08-08 00:58:01,129", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "4ee2d961-ebfe-45a6-9aa4-5a709707d502", "duration": 0.001479, "status": 200}
{"asctime": "2025-08-08 00:58:01,130", "levelname": "INFO", "name": "ai_karen_engine.server.middleware", "message": "Request completed", "lineno": 174, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/middleware.py", "request_id": "adae58f6-89b5-4227-9d36-fb0031944941", "duration": 0.001614, "status": 200}
{"asctime": "2025-08-08 00:58:11,730", "levelname": "INFO", "name": "uvicorn.error", "message": "Shutting down", "lineno": 264, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/server.py"}
{"asctime": "2025-08-08 00:58:11,831", "levelname": "INFO", "name": "uvicorn.error", "message": "Waiting for application shutdown.", "lineno": 67, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/lifespan/on.py"}
{"asctime": "2025-08-08 00:58:11,831", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Shutting down Kari AI Server", "lineno": 110, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:58:11,831", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Background tasks stopped", "lineno": 95, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:58:11,831", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Shutting down services...", "lineno": 296, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:58:11,832", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Stopped health monitoring", "lineno": 292, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:58:11,832", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "Stopping service: ai_orchestrator", "lineno": 144, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/services/base.py"}
{"asctime": "2025-08-08 00:58:11,832", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "Stopping AI Orchestrator Service", "lineno": 71, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/ai_orchestrator.py"}
{"asctime": "2025-08-08 00:58:11,832", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "AI Orchestrator Service stopped", "lineno": 73, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/services/ai_orchestrator/ai_orchestrator.py"}
{"asctime": "2025-08-08 00:58:11,832", "levelname": "INFO", "name": "service.ai_orchestrator", "message": "Service stopped: ai_orchestrator", "lineno": 152, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/services/base.py"}
{"asctime": "2025-08-08 00:58:11,832", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service ai_orchestrator shut down successfully", "lineno": 311, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:58:11,832", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service conversation_service shut down successfully", "lineno": 311, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:58:11,833", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service memory_service shut down successfully", "lineno": 311, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:58:11,833", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service plugin_service shut down successfully", "lineno": 311, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:58:11,833", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "Service tool_service shut down successfully", "lineno": 311, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:58:11,833", "levelname": "INFO", "name": "ai_karen_engine.core.service_registry", "message": "All services shut down", "lineno": 316, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/service_registry.py"}
{"asctime": "2025-08-08 00:58:11,833", "levelname": "INFO", "name": "kari.memory.manager", "message": "[MemoryManager] Memory manager closed successfully", "lineno": 496, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/core/memory/manager.py"}
{"asctime": "2025-08-08 00:58:11,833", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "AI services cleanup completed", "lineno": 58, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:58:11,833", "levelname": "INFO", "name": "ai_karen_engine.server.startup", "message": "Server shutdown completed", "lineno": 113, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/src/ai_karen_engine/server/startup.py"}
{"asctime": "2025-08-08 00:58:11,834", "levelname": "INFO", "name": "uvicorn.error", "message": "Application shutdown complete.", "lineno": 76, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/lifespan/on.py"}
{"asctime": "2025-08-08 00:58:11,834", "levelname": "INFO", "name": "uvicorn.error", "message": "Finished server process [4013569]", "lineno": 94, "pathname": "/media/zeus/Development3/KIRO/AI-Karen/.env_ai/lib/python3.11/site-packages/uvicorn/server.py", "color_message": "Finished server process [\u001b[36m%d\u001b[0m]"}
/usr/lib/python3.11/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 12 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
